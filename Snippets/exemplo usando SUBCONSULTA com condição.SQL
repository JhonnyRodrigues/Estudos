-- A consulta abaixo retorna a solicitação com histórico mais recente

SELECT
	H.*,
	S.*
FROM
	HELP_SOLICITACOES S
JOIN
	HELP_HISTORICOS H ON H.FK_SOLICITACAO = S.ID_SOLICITACAO
WHERE
	H.ID_HISTORICO = (
		SELECT
			H2.ID_HISTORICO
		FROM
			(
				SELECT
					H3.ID_HISTORICO,
					H3.FK_SOLICITACAO
				FROM
					HELP_HISTORICOS H3
				ORDER BY
					H3.ID_HISTORICO DESC
			) H2
		WHERE
			H.FK_SOLICITACAO = H2.FK_SOLICITACAO --> FOREACH
		AND
			ROWNUM = 1
	)